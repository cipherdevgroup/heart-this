!function(a,b,c){"use strict";function d(){i.each(function(){var a=b(this),c=a.data("post-id"),d=c+j;"hearted"===cookie.get(d)&&a.addClass("active"),b(document.body).hasClass("ajax-heart-this")&&a.find("span").load(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,postID:c})})}function e(a,c,d){var e,f=b('[data-post-id="'+d+'"]'),g=f.find("span");return"hearted"!==cookie.get(c)?(cookie.set(c,"hearted"),e=a+1,g.text(e),f.addClass("active is-animating")):(cookie.set(c,"unhearted"),e=a-1,g.text(e),f.removeClass("active")),e}function f(){i.on("click touchstart",function(){var a,c=b(this),d=c.data("post-id"),f=d+j,g=parseInt(c.find("span").text(),10)||0;return a=e(g,f,d),cookie.get(f)&&h(function(){b.post(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,heartsID:d,heartsValue:a})},500),c.blur(),!1})}function g(){i.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){b(this).removeClass("is-animating")})}var h,i=b(".heart-this"),j="-heart-this-status";cookie.defaults.expires=999,cookie.defaults.path="/",h=function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}(),b(document).ready(function(){d(),f(),g()})}(this,jQuery);