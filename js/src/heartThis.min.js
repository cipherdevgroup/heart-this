!function(a,b,c){"use strict";function d(){i.each(function(){var a=b(this),c=a.data("post-id"),d=c+j;"hearted"===cookie.get(d)&&a.addClass("active"),b("body").hasClass("ajax-heart-this")&&a.load(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,postID:c})})}function e(a,b,c){var d=parseInt(a.text(),10)||0;return"hearted"!==cookie.get(c)?(cookie.set(c,"hearted"),a.text(d+1),b.addClass("active is-animating")):(cookie.set(c,"unhearted"),a.text(d-1),b.removeClass("active")),a}function f(){i.on("click touchstart",function(){var a=b(this),c=a.data("post-id"),d=c+j,f=a.find("span");return f=e(f,a,d),cookie.get(d)&&h(function(){b.post(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,heartsID:c,heartsValue:f.text()})},2e3),!1})}function g(){i.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){b(this).removeClass("is-animating")})}var h,i=b(".heart-this"),j="-heart-this-status";cookie.defaults.expires=999,cookie.defaults.path="/",h=function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}(),b(document).ready(function(){d(),f(),g()})}(this,jQuery);