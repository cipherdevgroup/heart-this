!function(t,h,a){"use strict";var e,n="-heart-this-status",c=new Intl.NumberFormat(heartThis.heartLocale),o=(e=0,function(t,a){clearTimeout(e),e=setTimeout(t,a)});function s(t,a,e){var i,n,o=h('[data-post-id="'+e+'"]'),s=o.find("span"),r=0===(i=t.find("span")).length?0:(i=i.text().replace(/[^0-9]/g,""),parseInt(i,10));return"hearted"!==cookie.get(a)?(cookie.set(a,"hearted"),n=r+1,s.text(c.format(n)),o.addClass("active is-animating")):(cookie.set(a,"unhearted"),n=r-1,s.text(c.format(n)),o.removeClass("active")),n}cookie.defaults.expires=999,cookie.defaults.path="/",h(document).ready(function(){h(".heart-this").each(function(){var t=h(this),a=t.data("post-id"),e=a+n;"hearted"===cookie.get(e)&&t.addClass("active"),h(document.body).hasClass("ajax-heart-this")&&t.find("span").load(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,postID:a})}),h(document).on("click touchstart",".heart-this",function(){var t=h(this),a=t.data("post-id"),e=a+n,i=s(t,e,a);return cookie.get(e)&&o(function(){h.post(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,heartsID:a,heartsValue:i})},500),t.blur(),!1}),h(document).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",".heart-this",function(){h(this).removeClass("is-animating")})})}(0,jQuery);