!function(t,h,a){"use strict";var u,e,i=h(".heart-this"),l="-heart-this-status";function n(){i.on("click touchstart",function(){var t,a,e,i,n,s,o=h(this),r=o.data("post-id"),c=r+l,d=parseInt(o.find("span").text().replace(/,/g,""),10)||0;return a=d,e=c,n=h('[data-post-id="'+r+'"]'),s=n.find("span"),"hearted"!==cookie.get(e)?(cookie.set(e,"hearted"),i=a+1,s.text(i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),n.addClass("active is-animating")):(cookie.set(e,"unhearted"),i=a-1,s.text(i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),n.removeClass("active")),t=i,cookie.get(c)&&u(function(){h.post(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,heartsID:r,heartsValue:t})},500),o.blur(),!1})}cookie.defaults.expires=999,cookie.defaults.path="/",e=0,u=function(t,a){clearTimeout(e),e=setTimeout(t,a)},h(document).ready(function(){i.each(function(){var t=h(this),a=t.data("post-id"),e=a+l;"hearted"===cookie.get(e)&&t.addClass("active"),h(document.body).hasClass("ajax-heart-this")&&t.find("span").load(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,postID:a})}),n(),i.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){h(this).removeClass("is-animating")})})}(0,jQuery);