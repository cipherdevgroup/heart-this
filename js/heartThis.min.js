!function(t,d,a){"use strict";var u,e,i=d(".heart-this"),m="-heart-this-status",f=new Intl.NumberFormat(heartThis.heartLocale);function n(){i.on("click touchstart",function(){var t,a,e,i,n,o,s=d(this),r=s.data("post-id"),c=r+m,h=parseInt(s.find("span").text().replace(/[.,]/g,""),10)||0;return a=h,e=c,n=d('[data-post-id="'+r+'"]'),o=n.find("span"),"hearted"!==cookie.get(e)?(cookie.set(e,"hearted"),i=a+1,o.text(f.format(i)),n.addClass("active is-animating")):(cookie.set(e,"unhearted"),i=a-1,o.text(f.format(i)),n.removeClass("active")),t=i,cookie.get(c)&&u(function(){d.post(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,heartsID:r,heartsValue:t})},500),s.blur(),!1})}cookie.defaults.expires=999,cookie.defaults.path="/",e=0,u=function(t,a){clearTimeout(e),e=setTimeout(t,a)},d(document).ready(function(){i.each(function(){var t=d(this),a=t.data("post-id"),e=a+m;"hearted"===cookie.get(e)&&t.addClass("active"),d(document.body).hasClass("ajax-heart-this")&&t.find("span").load(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,postID:a})}),n(),i.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){d(this).removeClass("is-animating")})})}(0,jQuery);