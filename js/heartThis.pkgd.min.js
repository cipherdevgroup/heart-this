!function(u,f){var n=function(){return n.get.apply(n,arguments)},h=n.utils={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isPlainObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},toArray:function(e){return Array.prototype.slice.call(e)},getKeys:Object.keys||function(e){var t=[],i="";for(i in e)e.hasOwnProperty(i)&&t.push(i);return t},encode:function(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})},decode:function(e){return decodeURIComponent(e)},retrieve:function(e,t){return null==e?t:e}};n.defaults={},n.expiresMultiplier=86400,n.set=function(e,t,i){if(h.isPlainObject(e))for(var r in e)e.hasOwnProperty(r)&&this.set(r,e[r],t);else{var n=(i=h.isPlainObject(i)?i:{expires:i}).expires!==f?i.expires:this.defaults.expires||"",a=typeof n;"string"===a&&""!==n?n=new Date(n):"number"===a&&(n=new Date(+new Date+1e3*this.expiresMultiplier*n)),""!==n&&"toGMTString"in n&&(n=";expires="+n.toGMTString());var o=i.path||this.defaults.path;o=o?";path="+o:"";var s=i.domain||this.defaults.domain;s=s?";domain="+s:"";var c=i.secure||this.defaults.secure?";secure":"";!1===i.secure&&(c=""),u.cookie=h.encode(e)+"="+h.encode(t)+n+o+s+c}return this},n.setDefault=function(e,t,i){if(h.isPlainObject(e)){for(var r in e)this.get(r)===f&&this.set(r,e[r],t);return n}if(this.get(e)===f)return this.set.apply(this,arguments)},n.remove=function(e){for(var t=0,i=(e=h.isArray(e)?e:h.toArray(arguments)).length;t<i;t++)this.set(e[t],"",-1);return this},n.removeSpecific=function(e,t){if(!t)return this.remove(e);e=h.isArray(e)?e:[e],t.expires=-1;for(var i=0,r=e.length;i<r;i++)this.set(e[i],"",t);return this},n.empty=function(){return this.remove(h.getKeys(this.all()))},n.get=function(e,t){var i=this.all();if(h.isArray(e)){for(var r={},n=0,a=e.length;n<a;n++){var o=e[n];r[o]=h.retrieve(i[o],t)}return r}return h.retrieve(i[e],t)},n.all=function(){if(""===u.cookie)return{};for(var e=u.cookie.split("; "),t={},i=0,r=e.length;i<r;i++){var n=e[i].split("="),a=h.decode(n.shift()),o=h.decode(n.join("="));t[a]=o}return t},n.enabled=function(){if(navigator.cookieEnabled)return!0;var e="_"===n.set("_","_").get("_");return n.remove("_"),e},"function"==typeof define&&define.amd?define(function(){return{cookie:n}}):"undefined"!=typeof exports?exports.cookie=n:window.cookie=n}("undefined"==typeof document?null:document),function(e,f,t){"use strict";var h,i,r=f(".heart-this"),d="-heart-this-status",l=new Intl.NumberFormat(heartThis.heartLocale);function n(){r.on("click touchstart",function(){var e,t,i,r,n,a,o=f(this),s=o.data("post-id"),c=s+d,u=parseInt(o.find("span").text().replace(/[.,]/g,""),10)||0;return t=u,i=c,n=f('[data-post-id="'+s+'"]'),a=n.find("span"),"hearted"!==cookie.get(i)?(cookie.set(i,"hearted"),r=t+1,a.text(l.format(r)),n.addClass("active is-animating")):(cookie.set(i,"unhearted"),r=t-1,a.text(l.format(r)),n.removeClass("active")),e=r,cookie.get(c)&&h(function(){f.post(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,heartsID:s,heartsValue:e})},500),o.blur(),!1})}cookie.defaults.expires=999,cookie.defaults.path="/",i=0,h=function(e,t){clearTimeout(i),i=setTimeout(e,t)},f(document).ready(function(){r.each(function(){var e=f(this),t=e.data("post-id"),i=t+d;"hearted"===cookie.get(i)&&e.addClass("active"),f(document.body).hasClass("ajax-heart-this")&&e.find("span").load(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,postID:t})}),n(),r.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){f(this).removeClass("is-animating")})})}(0,jQuery);