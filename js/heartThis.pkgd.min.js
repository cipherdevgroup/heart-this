!function(u,h){var n=function(){return n.get.apply(n,arguments)},f=n.utils={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isPlainObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},toArray:function(e){return Array.prototype.slice.call(e)},getKeys:Object.keys||function(e){var t=[],r="";for(r in e)e.hasOwnProperty(r)&&t.push(r);return t},encode:function(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})},decode:function(e){return decodeURIComponent(e)},retrieve:function(e,t){return null==e?t:e}};n.defaults={},n.expiresMultiplier=86400,n.set=function(e,t,r){if(f.isPlainObject(e))for(var i in e)e.hasOwnProperty(i)&&this.set(i,e[i],t);else{var n=(r=f.isPlainObject(r)?r:{expires:r}).expires!==h?r.expires:this.defaults.expires||"",a=typeof n;"string"===a&&""!==n?n=new Date(n):"number"===a&&(n=new Date(+new Date+1e3*this.expiresMultiplier*n)),""!==n&&"toGMTString"in n&&(n=";expires="+n.toGMTString());var o=r.path||this.defaults.path;o=o?";path="+o:"";var s=r.domain||this.defaults.domain;s=s?";domain="+s:"";var c=r.secure||this.defaults.secure?";secure":"";!1===r.secure&&(c=""),u.cookie=f.encode(e)+"="+f.encode(t)+n+o+s+c}return this},n.setDefault=function(e,t,r){if(f.isPlainObject(e)){for(var i in e)this.get(i)===h&&this.set(i,e[i],t);return n}if(this.get(e)===h)return this.set.apply(this,arguments)},n.remove=function(e){for(var t=0,r=(e=f.isArray(e)?e:f.toArray(arguments)).length;t<r;t++)this.set(e[t],"",-1);return this},n.removeSpecific=function(e,t){if(!t)return this.remove(e);e=f.isArray(e)?e:[e],t.expires=-1;for(var r=0,i=e.length;r<i;r++)this.set(e[r],"",t);return this},n.empty=function(){return this.remove(f.getKeys(this.all()))},n.get=function(e,t){var r=this.all();if(f.isArray(e)){for(var i={},n=0,a=e.length;n<a;n++){var o=e[n];i[o]=f.retrieve(r[o],t)}return i}return f.retrieve(r[e],t)},n.all=function(){if(""===u.cookie)return{};for(var e=u.cookie.split("; "),t={},r=0,i=e.length;r<i;r++){var n=e[r].split("="),a=f.decode(n.shift()),o=f.decode(n.join("="));t[a]=o}return t},n.enabled=function(){if(navigator.cookieEnabled)return!0;var e="_"===n.set("_","_").get("_");return n.remove("_"),e},"function"==typeof define&&define.amd?define(function(){return{cookie:n}}):"undefined"!=typeof exports?exports.cookie=n:window.cookie=n}("undefined"==typeof document?null:document),function(e,c,t){"use strict";var r,n="-heart-this-status",u=new Intl.NumberFormat(heartThis.heartLocale),a=(r=0,function(e,t){clearTimeout(r),r=setTimeout(e,t)});function o(e,t,r){var i,n,a=c('[data-post-id="'+r+'"]'),o=a.find("span"),s=0===(i=e.find("span")).length?0:(i=i.text().replace(/[^0-9]/g,""),parseInt(i,10));return"hearted"!==cookie.get(t)?(cookie.set(t,"hearted"),n=s+1,o.text(u.format(n)),a.addClass("active is-animating")):(cookie.set(t,"unhearted"),n=s-1,o.text(u.format(n)),a.removeClass("active")),n}cookie.defaults.expires=999,cookie.defaults.path="/",c(document).ready(function(){c(".heart-this").each(function(){var e=c(this),t=e.data("post-id"),r=t+n;"hearted"===cookie.get(r)&&e.addClass("active"),c(document.body).hasClass("ajax-heart-this")&&e.find("span").load(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,postID:t})}),c(document).on("click touchstart",".heart-this",function(){var e=c(this),t=e.data("post-id"),r=t+n,i=o(e,r,t);return cookie.get(r)&&a(function(){c.post(heartThis.ajaxURL,{action:"heart-this",security:heartThis.ajaxNonce,heartsID:t,heartsValue:i})},500),e.blur(),!1}),c(document).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",".heart-this",function(){c(this).removeClass("is-animating")})})}(0,jQuery);